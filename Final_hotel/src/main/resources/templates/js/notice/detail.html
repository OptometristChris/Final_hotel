<!DOCTYPE html>
<html lang="ko" 
      xmlns:th="http://www.thymeleaf.org"
      th:replace="~{js/layout/layout_main :: layout(~{::title}, ~{::link}, ~{::style}, ~{::script}, ~{::content})}">
<head>
    <title>CIEL HOTEL - 공지사항 상세</title>
    
    <link rel="stylesheet" href="">
    
    <style>
        .detail-container { padding: 150px 0 100px; min-height: 800px; background-color: #fff; }
        
        /* 헤더: 제목 중앙 정렬 및 가로선 강조 */
        .detail-header { text-align: center; margin-bottom: 60px; padding-bottom: 40px; border-bottom: 2px solid #1a1a1a; }
        .detail-category { font-size: 0.9rem; color: #888; margin-bottom: 15px; letter-spacing: 1px; }
        .detail-title { font-size: 2.2rem; font-weight: 700; color: #1a1a1a; margin-bottom: 20px; line-height: 1.4; }
        .detail-date { font-size: 1rem; color: #666; font-family: 'Noto Sans KR', sans-serif; }
        
        /* 본문 영역: 너비를 제한하여 안쪽으로 들여쓰기 효과 (이미지 느낌 반영) */
        .content-wrapper { max-width: 900px; margin: 0 auto; padding: 0 20px; }
        .detail-content { line-height: 2; min-height: 400px; font-size: 1.1rem; color: #333; margin-bottom: 80px; }
        .detail-content img { max-width: 100%; height: auto; display: block; margin: 30px auto; } 

        /* 하단 버튼 및 관리 영역 */
        .footer-group { max-width: 900px; margin: 0 auto; padding: 30px 20px 0; border-top: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
        .btn-list { border: 1px solid #1a1a1a; color: #1a1a1a; padding: 10px 40px; transition: 0.3s; text-decoration: none; font-weight: 500; }
        .btn-list:hover { background-color: #1a1a1a; color: #fff; }
        
        .admin-btns .btn { padding: 8px 20px; font-size: 0.85rem; margin-left: 5px; border-radius: 0; }
    </style>
</head>
<body>

<th:block th:fragment="content">
    <div class="container-fluid detail-container">
        
        <div class="container">
            <div class="detail-header">
                <div class="detail-category">
                    <span th:text="${notice.fkHotelId == 1 ? '호텔 시엘' : '르 시엘'}">지점명</span>
                    <span style="margin: 0 10px;">|</span>
                    <span>공지사항</span>
                </div>
                <h2 class="detail-title">
                    
                    <span th:text="${notice.title}">공지사항 제목이 들어갑니다.</span>
                </h2>
                <div class="detail-date" th:text="${#dates.format(notice.createdAt, 'yyyy. MM. dd')}">2026. 02. 26</div>
            </div>
        </div>

        <div class="content-wrapper">
            <div class="detail-content" th:utext="${notice.content}">
                </div>
        </div>

        <div class="footer-group">
            <a th:href="@{/notice/list(hotelId=${hotelId != null ? hotelId : 0})}" class="btn-list">목록</a>
            
            <div class="admin-btns">
                <button type="button" class="btn btn-light border" 
                        th:onclick="|location.href='@{/notice/edit/{id}(id=${notice.noticeId})}'|">수정</button>
                <button type="button" class="btn btn-light border text-danger" 
                        th:onclick="deleteNotice([[${notice.noticeId}]])">삭제</button>
            </div>
            
            <form id="deleteFrm" th:action="@{/notice/delete}" method="post" style="display:none;">
                <input type="hidden" name="noticeId" th:value="${notice.noticeId}">
            </form>
            
        </div>
        
    </div>
</th:block>

<th:block th:fragment="script">
    <script th:inline="javascript">
        function deleteNotice(noticeId) {
            if(confirm("이 게시물을 삭제하시겠습니까?")) {
            	document.getElementById('deleteFrm').submit();
                alert("삭제 처리가 요청되었습니다.");
            }
        }
        
        function deleteNotice(noticeId) {
            if(confirm("이 게시물을 삭제하시겠습니까?")) {
                const form = document.getElementById('deleteFrm');
                if(form) {
                    form.submit();
                } else {
                    console.error("삭제 폼(deleteFrm)을 찾을 수 없습니다.");
                }
            }
        }
    </script>
</th:block>

</body>
</html>