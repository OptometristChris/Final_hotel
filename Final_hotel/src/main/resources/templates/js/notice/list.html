<!DOCTYPE html>
<html lang="ko" 
      xmlns:th="http://www.thymeleaf.org"
      th:replace="~{js/layout/layout_main :: layout(~{::title}, ~{::link}, ~{::style}, ~{::script}, ~{::content})}">
<head>
    <title>CIEL HOTEL - 공지사항</title>
    <link rel="stylesheet" href="">
    
    <style>
        .notice-container { padding: 150px 0 100px; min-height: 800px; max-width: 1100px; margin: 0 auto; }
        .notice-title { font-size: 2.5rem; font-weight: 700; color: #1a1a1a; margin-bottom: 60px; text-align: center; letter-spacing: 2px; }
        
        .notice-tabs { display: flex; justify-content: center; margin-bottom: 50px; border-bottom: 1px solid #eee; }
        .tab-item { padding: 15px 40px; cursor: pointer; border-bottom: 2px solid transparent; transition: 0.3s; color: #999; text-decoration: none; font-size: 1rem; }
        .tab-item:hover { color: #d4af37; }
        .tab-item.active { border-bottom: 2px solid #1a1a1a; color: #1a1a1a; font-weight: 600; }

        .notice-list-wrap { border-top: 2px solid #1a1a1a; }
        .notice-item { 
            display: flex; justify-content: space-between; align-items: center; 
            padding: 16px 10px; border-bottom: 1px solid #eee; transition: background 0.2s;
            text-decoration: none !important;
        }
        .notice-item:hover { background-color: #fcfcfc; }
        
        .item-left { display: flex; align-items: flex-start; flex: 1; }
        .icon-pin { color: #d4af37; margin-right: 15px; margin-top: 3px; font-size: 1.1rem; }
        .item-info-box { display: flex; flex-direction: column; gap: 8px; }
        .item-category { font-size: 0.85rem; color: #888; display: flex; align-items: center; gap: 8px; }
        .item-category .sep { width: 1px; height: 10px; background: #ddd; }
        .item-title { font-size: 1rem; color: #1a1a1a; font-weight: 500; transition: 0.2s; }
        .notice-item:hover .item-title { color: #d4af37; text-decoration: underline; }
        
        .item-date { font-size: 0.95rem; color: #666; font-family: 'Noto Sans KR', sans-serif; min-width: 100px; text-align: right; }
        .row-top { background-color: #fdfaf2; }

        .btn-write { background-color: #1a1a1a; color: #fff; border: none; padding: 12px 30px; transition: 0.3s; font-size: 0.9rem; letter-spacing: 1px; }
        .btn-write:hover { background-color: #d4af37; color: #fff; }
    </style>
</head>
<body>

<th:block th:fragment="content">
    <div class="container notice-container">
        <h2 class="notice-title">공지 사항</h2>

        <div class="notice-tabs">
            <a th:href="@{/notice/list(hotelId=0)}" class="tab-item" 
               th:classappend="${hotelId == 0} ? 'active' : ''">전체</a>
            <a th:href="@{/notice/list(hotelId=1)}" class="tab-item" 
               th:classappend="${hotelId == 1} ? 'active' : ''">호텔 시엘</a>
            <a th:href="@{/notice/list(hotelId=2)}" class="tab-item" 
               th:classappend="${hotelId == 2} ? 'active' : ''">르 시엘</a>
        </div>
        
        <div class="notice-list-wrap">
            <a th:each="notice : ${notices}" th:if="${notice.isTop == 'Y'}" 
               th:href="@{'/notice/detail/' + ${notice.noticeId}(hotelId=${hotelId})}" 
               class="notice-item row-top">
                <div class="item-left">
                    <div class="icon-pin"><i class="bi bi-pin-angle-fill"></i></div>
                    <div class="item-info-box">
                        <div class="item-category">
                            <span th:text="${notice.fkHotelId == 1 ? '호텔 시엘' : '르 시엘'}">지점</span>
                            <span class="sep"></span>
                            <span>고정</span>
                        </div>
                        <div class="item-title" th:text="${notice.title}">제목</div>
                    </div>
                </div>
                <div class="item-date" th:text="${#dates.format(notice.createdAt, 'yyyy.MM.dd')}">날짜</div>
            </a>

            <a th:each="notice : ${notices}" th:if="${notice.isTop == 'N'}" 
               th:href="@{'/notice/detail/' + ${notice.noticeId}(hotelId=${hotelId})}" 
               class="notice-item">
                <div class="item-left">
                    <div style="width:33px;"></div>
                    <div class="item-info-box">
                        <div class="item-category">
                            <span th:text="${notice.fkHotelId == 1 ? '호텔 시엘' : '르 시엘'}">지점</span>
                            <span class="sep"></span>
                            <span>공지사항</span>
                        </div>
                        <div class="item-title" th:text="${notice.title}">제목</div>
                    </div>
                </div>
                <div class="item-date" th:text="${#dates.format(notice.createdAt, 'yyyy.MM.dd')}">날짜</div>
            </a>

            <div th:if="${#lists.isEmpty(notices)}" class="text-center py-5 text-muted">
                등록된 공지사항이 없습니다.
            </div>
        </div>
        
        <div class="text-right mt-5" style="text-align: right;">
            <a th:href="@{/notice/write(hotelId=${hotelId})}" class="btn btn-write">글쓰기</a>
        </div>
    </div>
</th:block>

<th:block th:fragment="script">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</th:block>

</body>
</html>