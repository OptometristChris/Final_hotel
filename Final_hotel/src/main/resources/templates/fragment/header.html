<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org">  <!--/* #스프링시큐리티05 Spring Security sec 를 사용하기 위해 HTML 네임스페이스 sec 를 추가 해야 함 */-->
<!--/*  
     Spring Security 를 위한 HTML 네임스페이스 sec 를 사용하려면
     먼저, build.gradle 에서 아래에 보이는 의존성 추가(dependencies)를 해주어야 한다.
     
     implementation 'org.thymeleaf.extras:thymeleaf-extras-springsecurity6' 
*/-->      
      
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

    <div th:fragment="main_header">
		<!-- 상단 네비게이션 시작 -->
		<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top mx-4 py-3">
			<!-- Brand/logo --> 
			<a class="navbar-brand" th:href="@{/}" style="margin-right: 10%;"><img th:src="@{/images/sist_logo.png}" /></a>
			<!-- @{/} 은 자동으로 Context Path가 포함됨. 만약에 Context Path가 /springboot 이라면 @{/} 은 /springboot/으로 되어짐 -->
			
			<!-- 아코디언 같은 Navigation Bar 만들기 -->
		    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
		      <span class="navbar-toggler-icon"></span>
		    </button>
			
			<div class="collapse navbar-collapse" id="collapsibleNavbar">
			  <ul class="navbar-nav h5">  <!-- .h5 는 글자크기임 -->   
			     <li class="nav-item dropdown">
			        <a class="nav-link dropdown-toggle text-info" href="#" id="navbarDropdown" data-toggle="dropdown">시작</a> 
			                                    <!--  .text-info 는 글자색으로 청녹색임 -->   
			        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
			           <a class="dropdown-item" th:href="@{/}">HOME</a>
			           
			        </div>
			     </li>
			     

				 <!-- /* ==============================(#스프링시큐리티06)============================= */ -->
				 <li class="nav-item dropdown">
	                 <a class="nav-link dropdown-toggle text-info" href="#" id="navbarDropdown" data-toggle="dropdown">Spring Security</a>  
	                 <div class="dropdown-menu" aria-labelledby="navbarDropdown">
	                 
	                 <!--/* th:block은 Thymeleaf 엔진이 처리한 후 HTML 소스상에서 완전히 사라진다. */-->
	                 <th:block sec:authorize="isAnonymous()"> 
	                  	 <!--/* 로그인을 하지 않은 상태에서만 메뉴가 보여지는 것이다 */-->
		                 <a class="dropdown-item" th:href="@{/security/memberRegister}">회원가입</a>
	                     <a class="dropdown-item" th:href="@{/security/login}">로그인</a>
	                     <!-- @{/member/memberRegister} → 자동으로 Context Path가 포함됨. Context Path가 /myapp 이라면 → /myapp/member/memberRegister 으로 변환됨 -->
					 </th:block>
					 
					 <th:block sec:authorize="isAuthenticated()"> 
					 	<!--/* 로그인을 성공한 상태에서만 메뉴가 보여지는 것이다 */-->
					 	<a class="dropdown-item" th:href="@{/security/passwdChange}">비밀번호 변경</a>
					 </th:block>
					 
					 <th:block>   
					 <!--/* 조건이 없으므로, 로그인을 하지 않은 상태이거나 또는 로그인을 성공한 상태 모두 메뉴가 보여지는 것이다 */-->
                       <a class="dropdown-item" th:href="@{/security/everybody}">누구나</a>
                       <a class="dropdown-item" th:href="@{/security/authenticatedUserOnly}">회원만가능</a>
                     </th:block>
                     
                     <th:block sec:authorize="hasRole('ROLE_USER')"> 
                     <!--/* 로그인 되어진 사용자의 역할(권한)이 'ROLE_USER' 가 있는 회원은 메뉴가 보여지는 것이다. */-->
                     	<a class="dropdown-item" th:href="@{/security/memberOnly}">회원나의정보</a>
					 </th:block>
					 
					 <th:block sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_USER_SPECIAL','ROLE_USER')"> <!--/* 로그인 되어진 사용자의 역할(권한)이 'ROLE_ADMIN','ROLE_USER_SPECIAL','ROLE_USER' 중에 하나라도 있는 회원은 메뉴가 보여지는 것이다. */-->  
                        <a class="dropdown-item" th:href="@{/security/special/special_memberOnly}">특별회원전용</a> 
                     </th:block>
                     
                     <th:block sec:authorize="hasRole('ROLE_ADMIN')">  <!--/* 로그인 되어진 사용자의 역할(권한)이 'ROLE_ADMIN' 있는 회원은 메뉴가 보여지는 것이다. */-->
                        <a class="dropdown-item" th:href="@{/security/admin/adminOnly}">모든회원(관리자전용)</a>
                     </th:block>
					 
					 </div>
				 </li>
					 
					  
			       <li class="nav-item dropdown">
			          <a class="nav-link dropdown-toggle text-info" href="#" id="navbarDropdown" data-toggle="dropdown">게시판</a>  
			          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
			             <a class="dropdown-item" th:href="@{/board/list}">목록보기</a>
			             	<th:block sec:authorize="isAuthenticated()"> <!-- 로그인 성공시에만 보여준다. -->
						    	<a class="dropdown-item" th:href="@{/board/write}">글쓰기</a>
					     	</th:block>
			          </div>
			       </li>
			       
			       
			       <li class="nav-item dropdown">
	                   <a class="nav-link dropdown-toggle text-info" href="#" id="navbarDropdown" data-toggle="dropdown">제품</a>  
	                     <div class="dropdown-menu" aria-labelledby="navbarDropdown">
	                        <a class="dropdown-item" th:href="@{/product/list}">제품목록</a>
	                        <th:block sec:authorize="hasRole('ROLE_ADMIN')">  <!--/* 로그인 되어진 사용자의 역할(권한)이 'ROLE_ADMIN' 있는 회원은 메뉴가 보여지는 것이다. */-->
	                      <a class="dropdown-item" th:href="@{/product/register}">제품등록</a>
	                    </th:block>
	                     </div>   
	               </li>
			       
			       
			     
			   </ul>
			 </div>
			 
			 <!--/* === #스프링시큐리티18  로그인이 성공되어지면 로그인되어진 사용자의 성명을 출력하기 === */-->
	          <!--/* sessionMemberDTO 은 /myspringboot/src/main/java/com/spring/app/security/loginsuccess/MyAuthenticationSuccessHandler.java 에서 만들었음 */-->
	          <th:block sec:authorize="isAuthenticated()"> <!--/* 로그인을 성공한 상태에서만 메뉴가 보여지는 것이다 */-->
	             <div style="float: right;"> <!-- #authentication.name -->
	             	<!--  
	                <span style="color: navy; font-weight: bold;">[[${session.sessionMemberDTO.name}]]</span> 님 로그인중..&nbsp;&nbsp;&nbsp;&nbsp;
	                -->
	                <span style="color: navy; font-weight: bold;">[[${#authentication.principal.memberName}]]</span> 님 로그인중..&nbsp;&nbsp;&nbsp;&nbsp;
	                <a th:href="@{/security/logout}"><i class="fa-solid fa-right-from-bracket"></i>&nbsp;&nbsp;<span style="font-size: 10pt;">로그아웃</span></a> 
	             </div>
	          </th:block>
			
			 
				
		</nav>
		<!-- 상단 네비게이션 끝 -->

		<div class="h5" style="border: solid 0px red; width: 70%; margin: 0 auto; padding: 2% 0;">
			<marquee> [공지사항] 쌍용교육센터 6강의실 수강생 여러분들의 수료후 프로그래머 입사를 진심으로 기원합니다.</marquee>
	  	</div>
	</div>  	
	
 <!-- ============================================================================================== --> 
	
	<div th:fragment="admin_header">
		<!-- 상단 네비게이션 시작 -->
		<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top mx-4 py-3">
			<!-- Brand/logo --> 
			<a class="navbar-brand" th:href="@{/}" style="margin-right: 10%;"><img th:src="@{/images/sist_logo.png}" /></a>
			
			<!-- 아코디언 같은 Navigation Bar 만들기 -->
		    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
		      <span class="navbar-toggler-icon"></span>
		    </button>
			
			<div class="collapse navbar-collapse" id="collapsibleNavbar">
			  <ul class="navbar-nav h5">  <!-- .h5 는 글자크기임 -->   
			     <li class="nav-item dropdown">
			        <a class="nav-link dropdown-toggle text-success" href="#" id="navbarDropdown" data-toggle="dropdown">Home</a> 
			                                     <!--  .text-success 는 글자색으로 초록색임 -->   
			        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
			           <a class="dropdown-item" th:href="@{/}">HOME</a>
			           
			        </div>
			     </li>
			     
			     
			     
			  </ul>
			</div>
			
			
				
		</nav>
		<!-- 상단 네비게이션 끝 -->

	    <div style="border:solid 0px red;" class="px-1">
		  	<!-- 광고 캐러젤 시작 -->
			    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
			  
					  <!--/* 인디케이터 */-->
					  <ol class="carousel-indicators">
					       <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
					       <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
					  </ol>
				 
					  <!--/* 슬라이드 아이템 */-->
					  <div class="carousel-inner">
						    <div class="carousel-item active">
						      <img src="../images/advertisement_01.png" class="d-block w-100" alt="붐펫">     
						      <div class="carousel-caption d-none d-md-block"> 
							    <p>붐펫</p>
							  </div>
						    </div>
						    <div class="carousel-item">
						      <img src="../images/advertisement_02.png" class="d-block w-100" alt="어도비">
						      <div class="carousel-caption d-none d-md-block">
							    <p>어도비</p>
							  </div>		      
						    </div>
				      </div>
			
			          <!--/* 컨트롤 버튼 */-->
			          <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
			             <span class="carousel-control-prev-icon" aria-hidden="true"></span>
			             <span class="sr-only">Previous</span>
			          </a>
			          <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
			             <span class="carousel-control-next-icon" aria-hidden="true"></span>
			             <span class="sr-only">Next</span>
			          </a>
			  
	             </div>
			<!-- 광고 캐러젤 끝 -->
		</div>
					  	
	 </div>	 
		
</body>
</html>
