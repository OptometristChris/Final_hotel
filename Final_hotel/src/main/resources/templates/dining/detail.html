<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${dining.name} + ' - 상세정보'"></title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@300;400;500&display=swap');
        body { font-family: 'Noto Serif KR', serif; color: #333; }
        
        .hero-image {
            width: 100%; height: 500px;
            background-size: cover; background-position: center;
        }
        
        .detail-container { max-width: 1000px; margin: -50px auto 50px; background: white; padding: 60px; position: relative; z-index: 10; }
        .gold-text { color: #9d815d; font-weight: bold; letter-spacing: 2px; text-transform: uppercase; }
        
        /* 소개글 스타일 */
        .intro-section { padding: 40px 0; border-bottom: 1px solid #eee; margin-bottom: 40px; }
        .intro-text { font-size: 1.15rem; line-height: 2; color: #555; word-break: keep-all; }

        /* 갤러리 탭 스타일 */
        .nav-tabs { border-bottom: 2px solid #eee; justify-content: center; }
        .nav-tabs .nav-link { color: #999; border: none; font-size: 1.1rem; padding: 15px 30px; }
        .nav-tabs .nav-link.active { color: #9d815d; border-bottom: 2px solid #9d815d; background: none; font-weight: bold; }

        /* 슬라이드 이미지 높이 고정 */
        .carousel-item img { height: 500px; object-fit: cover; }

        /* 메뉴 다운로드 영역 */
        .menu-box { background: #f9f9f9; padding: 30px; margin-top: 20px; border: 1px solid #eee; }

        /* 정보 테이블 */
        .info-table th { width: 180px; border-top: none; color: #888; font-weight: 400; }
        .info-table td { border-top: none; color: #333; }

        /* 버튼 */
        .btn-reserve { background-color: #9d815d; color: white; border-radius: 0; padding: 15px 50px; font-size: 1.1rem; transition: 0.3s; }
        .btn-reserve:hover { background-color: #846d4f; color: white; }
        .btn-pdf { border: 1px solid #9d815d; color: #9d815d; border-radius: 0; padding: 10px 30px; }
        .btn-pdf:hover { background: #9d815d; color: white; }
    </style>
</head>
<body>

    <div class="hero-image" th:style="|background-image: url('@{/images/dining/}${dining.main_img}');|"></div>

    <div class="container detail-container shadow-lg">
        
        <div class="text-center mb-4">
            <span class="gold-text" th:text="${dining.d_type}">CATEGORY</span>
            <h1 class="display-4 mt-2" th:text="${dining.name}">레스토랑 이름</h1>
            <hr style="width: 60px; border-top: 2px solid #9d815d; margin: 20px auto;">
        </div>

        <div class="intro-section text-center">
            <p class="intro-text" th:text="${dining.description}">
                여기에 매장 상세 소개글이 들어갑니다. (DB의 description 또는 introduction 컬럼 활용)
            </p>
        </div>

        <div class="my-5">
		    <ul class="nav nav-tabs" id="diningTab" role="tablist">
		        <li class="nav-item">
		            <a class="nav-link active" id="store-tab" data-toggle="tab" href="#store" role="tab">매장 전경</a>
		        </li>
		        <li class="nav-item">
		            <a class="nav-link" id="food-tab" data-toggle="tab" href="#food" role="tab">음식 메뉴</a>
		        </li>
		    </ul>
		    
		    <div class="tab-content mt-4" id="diningTabContent">
		        <div class="tab-pane fade show active" id="store" role="tabpanel">
		            <div id="storeCarousel" class="carousel slide" data-ride="carousel">
		                <div class="carousel-inner">
		                    <div th:each="img, stat : ${#strings.arraySplit(dining.store_imgs, ',')}" 
		                         class="carousel-item" th:classappend="${stat.first} ? 'active'">
		                        <img th:src="@{|/images/dining/${img}|}" class="d-block w-100" alt="사진">
		                    </div>
		                </div>
		                <a class="carousel-control-prev" href="#storeCarousel" data-slide="prev"><span class="carousel-control-prev-icon"></span></a>
		                <a class="carousel-control-next" href="#storeCarousel" data-slide="next"><span class="carousel-control-next-icon"></span></a>
		            </div>
		        </div>
		
		        <div class="tab-pane fade" id="food" role="tabpanel">
		            <div id="foodCarousel" class="carousel slide" data-ride="carousel">
		                <div class="carousel-inner">
		                    <div th:each="img, stat : ${#strings.arraySplit(dining.food_imgs, ',')}" 
		                         class="carousel-item" th:classappend="${stat.first} ? 'active'">
		                        <img th:src="@{|/images/dining/${img}|}" class="d-block w-100" alt="사진">
		                    </div>
		                </div>
		                <a class="carousel-control-prev" href="#foodCarousel" data-slide="prev"><span class="carousel-control-prev-icon"></span></a>
		                <a class="carousel-control-next" href="#foodCarousel" data-slide="next"><span class="carousel-control-next-icon"></span></a>
		            </div>
		            
		            <div class="menu-box text-center" th:if="${dining.menu_pdf != null}">
		                <h5 class="mb-3" style="letter-spacing: 5px;">MENU PDF</h5>
		                <a th:each="pdf : ${#strings.arraySplit(dining.menu_pdf, ',')}"
					       th:href="@{|/images/dining/${pdf}|}" 
					       class="btn btn-pdf" 
					       target="_blank"
					       style="margin-right: 10px;">
						    MENU 상세보기 (PDF)
						</a>
		            </div>
		        </div>
		    </div>
		</div>

        <div class="py-4">
            <h4 class="mb-4" style="font-weight: 500; border-left: 4px solid #9d815d; padding-left: 15px;">기본 정보</h4>
            <table class="table info-table">
                <tr>
                    <th>위치</th>
                    <td th:text="${dining.floor}">층수 정보</td>
                </tr>
                <tr>
                    <th>이용시간</th>
                    <td th:text="${dining.business_hours}">영업시간 정보</td>
                </tr>
                <tr>
                    <th>전화번호</th>
                    <td th:text="${dining.tel}">전화번호</td>
                </tr>
            </table>
            
            
            <div class="text-center mt-5 pt-5 border-top">
	            <a th:href="@{/dining/reserve/{id}(id=${dining.dining_id})}" class="btn btn-reserve">
	                온라인 예약하기
	            </a>
	        </div>
        
        </div>

        <div class="py-4 border-top">
            <h4 class="mb-4" style="font-weight: 500; border-left: 4px solid #9d815d; padding-left: 15px;">추가 정보</h4>
            <div class="pl-3" style="line-height: 2; color: #666;">
                <p th:utext="${dining.extra_info}">
                    • 좌석수 : 100석 (별실 4실 포함)<br>
                    • 드레스 코드 : 비즈니스 캐주얼<br>
                    • 주차 안내 : 호텔 주차장 이용 가능 (유료 발렛 가능)
                </p>
            </div>
        </div>


        <div class="text-center mt-5 pt-5 border-top">
	         <a th:href="@{/dining/all}" class="btn btn-outline-secondary px-5 py-3 mr-3" style="border-radius: 0;">목록으로</a>
	    </div>
        
    </div>

</body>
</html>